(sequence (declare Rational (function (parameters) (sequence (declare num 0) (declare denom 0) (declare constructor (function (parameters new_num new_denom) (sequence (call (lookup set_num) (arguments (lookup new_num))) (call (lookup set_denom) (arguments (lookup new_denom))) (return (lookup this))))) (declare get_num (function (parameters) (sequence (return (lookup num))))) (declare get_denom (function (parameters) (sequence (return (lookup denom))))) (declare set_num (function (parameters new_num) (sequence (assign (varloc num) (lookup new_num))))) (declare set_denom (function (parameters new_denom) (sequence (assign (varloc denom) (lookup new_denom))))) (declare this (function (parameters i) (sequence (if (== (lookup i) 0) (sequence (return (lookup constructor)))) (if (== (lookup i) 1) (sequence (return (lookup get_num)))) (if (== (lookup i) 2) (sequence (return (lookup get_denom)))) (if (== (lookup i) 3) (sequence (return (lookup set_num)))) (if (== (lookup i) 4) (sequence (return (lookup set_denom))))))) (return (lookup this))))) (declare x (call (lookup Rational) (arguments))) (call (call (call (call (call (call (lookup x) (arguments 0)) (arguments 1 2)) (arguments 0)) (arguments 3 4)) (arguments 3)) (arguments 4)) (print (call (call (lookup x) (arguments 1)) (arguments))) (print (call (call (lookup x) (arguments 2)) (arguments))))